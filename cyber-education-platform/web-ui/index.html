<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CEDRIK Labs</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css" rel="stylesheet" />
    <style>
    * {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
background: linear-gradient(180deg, #b077f6 0%, #633690 100%);
min-height: 100vh;
}

header {
text-align: center;
color: white;
padding: 2rem 0;
margin-bottom: 2%;
margin-top: 1%;
background: linear-gradient(0.25turn, #7951a900, #4a0a98c5, #7951a900);
border-radius: 10px;
}


h1 {
font-size: clamp(1.5rem, 5vw, 3rem);
margin-bottom: 10px;
text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
}

h2 {
font-size: clamp(1rem, 3vw, 1.5rem);
margin-bottom: 10px;
}

.ced {
font-family: 'Minigap', sans-serif;
font-weight: bolder;
}

.cedesc {
font-family: 'Minigap', sans-serif;
}

.subtitle {
font-size: clamp(0.9rem, 2vw, 1.2rem);
opacity: 0.9;
font-family: 'Minigap', sans-serif;
}

.launch-notification {
position: fixed;
top: 20px;
right: 20px;
background: white;
padding: 20px;
border-radius: 10px;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
z-index: 10000;
max-width: 400px;
display: none;
animation: slideIn 0.3s ease-out;
}

.launch-notification.show {
display: block;
}

@keyframes slideIn {
from {
  transform: translateX(400px);
  opacity: 0;
}
to {
  transform: translateX(0);
  opacity: 1;
}
}

.launch-notification.success {
border-left: 5px solid #4ade80;
}

.launch-notification.error {
border-left: 5px solid #f87171;
}

.launch-notification .icon {
font-size: 2rem;
margin-bottom: 10px;
}

.launch-notification .title {
font-weight: bold;
font-size: 1.1rem;
margin-bottom: 5px;
}

.launch-notification .message {
color: #666;
font-size: 0.9rem;
}

.scenario-card {
background: white;
border-radius: 15px;
padding: 25px;
box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
transition: transform 0.3s, box-shadow 0.3s;
cursor: pointer;
height: 100%;
display: flex;
flex-direction: column;
}

.scenario-card:hover {
transform: translateY(-5px);
box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
}

.scenario-header {
display: flex;
justify-content: space-between;
align-items: start;
margin-bottom: 15px;
gap: 10px;
}

.scenario-title {
font-size: clamp(1.1rem, 3vw, 1.4rem);
color: #333;
margin-bottom: 5px;
flex: 1;
}

.difficulty {
padding: 5px 12px;
border-radius: 20px;
font-size: 0.85rem;
font-weight: bold;
white-space: nowrap;
}

.difficulty.beginner {
background: #4ade80;
color: white;
}
.difficulty.intermediate {
background: #fbbf24;
color: white;
}
.difficulty.advanced {
background: #f87171;
color: white;
}
.difficulty.all-levels {
background: #60a5fa;
color: white;
}

.scenario-description {
color: #666;
margin-bottom: 20px;
line-height: 1.6;
flex: 1;
}

.scenario-meta {
display: flex;
flex-wrap: wrap;
gap: 15px;
margin-bottom: 15px;
font-size: 0.9rem;
color: #888;
}

.meta-item {
display: flex;
align-items: center;
gap: 5px;
}

.skills {
display: flex;
flex-wrap: wrap;
gap: 8px;
margin-bottom: 20px;
}

.skill-tag {
background: #f0f0f0;
padding: 5px 10px;
border-radius: 5px;
font-size: 0.85rem;
color: #555;
}

.start-button {
width: 100%;
padding: 12px;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
border: none;
border-radius: 8px;
font-size: 1rem;
font-weight: bold;
cursor: pointer;
transition: opacity 0.3s;
}

.start-button:hover {
opacity: 0.9;
}

.start-button:disabled {
background: #ccc;
cursor: not-allowed;
}

.start-button.loading {
opacity: 0.7;
cursor: wait;
}

.modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.7);
z-index: 1000;
align-items: center;
justify-content: center;
}

.modal.active {
display: flex;
}

.modal-content {
background: white;
border-radius: 15px;
padding: 15px;
width: 98vw;
height: 98vh;
overflow-y: auto;
position: relative;
display: flex;
flex-direction: column;
}

.close-modal {
position: absolute;
top: 15px;
right: 15px;
font-size: 1.5rem;
cursor: pointer;
color: #999;
z-index: 10;
background: white;
width: 35px;
height: 35px;
border-radius: 50%;
display: flex;
align-items: center;
justify-content: center;
box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.close-modal:hover {
color: #333;
}

.lab-container {
display: flex;
flex-direction: column;
gap: 15px;
margin-top: 15px;
flex: 1;
min-height: 0;
}

.vnc-section {
display: flex;
flex-direction: column;
min-height: 450px;
order: 1;
}

.vnc-container {
flex: 1;
background: #000;
border-radius: 10px;
overflow: hidden;
position: relative;
display: flex;
flex-direction: column;
min-height: 400px;
}

.vnc-header {
background: #1f2937;
padding: 10px 15px;
display: flex;
justify-content: space-between;
align-items: center;
flex-shrink: 0;
flex-wrap: wrap;
gap: 10px;
}

.vnc-title {
color: white;
font-weight: bold;
font-size: clamp(0.8rem, 2vw, 0.95rem);
}

.vnc-controls {
display: flex;
gap: 8px;
flex-wrap: wrap;
}

.vnc-btn {
padding: 6px 12px;
background: #667eea;
color: white;
border: none;
border-radius: 5px;
font-size: 0.85rem;
cursor: pointer;
transition: background 0.2s;
}

.vnc-btn:hover {
background: #5568d3;
}

.vnc-frame-wrapper {
flex: 1;
position: relative;
min-height: 0;
overflow: hidden;
}

.vnc-frame-wrapper iframe {
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 100%;
border: none;
}

.exercise-sidebar {
background: #f9fafb;
border-radius: 10px;
padding: 20px;
overflow-y: auto;
order: 2;
min-height: 300px;  
max-height: none;   
}

.exercise-sidebar h3 {
margin-top: 0;
margin-bottom: 15px;
color: #333;
font-size: 1.1rem;
}

.challenge-tracker {
background: white;
border-radius: 10px;
padding: 15px;
margin-bottom: 15px;
border-left: 4px solid #3b82f6;
}

.challenge-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 10px;
}

.challenge-count {
font-size: 1.5rem;
font-weight: bold;
color: #3b82f6;
}

.challenge-list {
display: flex;
flex-direction: column;
gap: 8px;
margin-top: 10px;
}

.challenge-item {
display: flex;
align-items: center;
gap: 10px;
padding: 8px;
background: #f9fafb;
border-radius: 5px;
}

.challenge-checkbox {
width: 20px;
height: 20px;
accent-color: #4ade80;
}

/* Mitigation Note Section */
.mitigation-section {
background: white;
border-radius: 10px;
padding: 15px;
margin-bottom: 15px;
border-left: 4px solid #f59e0b;
}

.mitigation-textarea {
width: 100%;
min-height: 100px;
padding: 10px;
border: 2px solid #e5e7eb;
border-radius: 8px;
font-size: 0.9rem;
resize: vertical;
font-family: inherit;
}

.mitigation-textarea:focus {
outline: none;
border-color: #f59e0b;
}

.validation-feedback {
margin-top: 10px;
padding: 10px;
border-radius: 5px;
font-size: 0.85rem;
}

.validation-feedback.success {
background: #d1fae5;
color: #065f46;
border: 1px solid #6ee7b7;
}

.validation-feedback.error {
background: #fee2e2;
color: #991b1b;
border: 1px solid #fca5a5;
}

/* Three Bullets Reflection */
.reflection-section {
background: white;
border-radius: 10px;
padding: 15px;
margin-bottom: 15px;
border-left: 4px solid #8b5cf6;
}

.reflection-bullet {
margin-bottom: 15px;
}

.reflection-bullet label {
display: block;
font-weight: bold;
margin-bottom: 5px;
color: #333;
}

.reflection-bullet .label-icon {
margin-right: 5px;
}

.reflection-input {
width: 100%;
padding: 10px;
border: 2px solid #e5e7eb;
border-radius: 8px;
font-size: 0.9rem;
font-family: inherit;
}

.reflection-input:focus {
outline: none;
border-color: #8b5cf6;
}

.reflection-counter {
text-align: right;
font-size: 0.75rem;
color: #666;
margin-top: 3px;
}

/* Validation Status Bar */
.validation-status-bar {
background: white;
border-radius: 10px;
padding: 15px;
margin-bottom: 15px;
box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}

.status-item {
display: flex;
align-items: center;
justify-content: space-between;
padding: 8px 0;
border-bottom: 1px solid #e5e7eb;
}

.status-item:last-child {
border-bottom: none;
}

.status-label {
font-weight: 500;
color: #333;
}

.status-indicator {
display: flex;
align-items: center;
gap: 5px;
font-size: 0.9rem;
}

.status-indicator.complete {
color: #10b981;
}

.status-indicator.incomplete {
color: #ef4444;
}

.status-indicator.pending {
color: #f59e0b;
}

/* Submit Buttons */
.submit-btn {
width: 100%;
padding: 12px;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
border: none;
border-radius: 8px;
font-weight: bold;
cursor: pointer;
transition: opacity 0.3s;
margin-top: 10px;
}

.submit-btn:hover:not(:disabled) {
opacity: 0.9;
}

.submit-btn:disabled {
background: #ccc;
cursor: not-allowed;
}

.submit-btn.validate {
background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.submit-btn.reflect {
background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
}

/* Progress Gate */
.progress-gate {
background: #fef3c7;
border: 2px solid #fbbf24;
border-radius: 10px;
padding: 15px;
margin-bottom: 15px;
text-align: center;
}

.progress-gate .gate-icon {
font-size: 2rem;
margin-bottom: 10px;
}

.progress-gate .gate-message {
color: #92400e;
font-weight: 500;
}

.ai-chat-section {
background: #f9fafb;
border-radius: 10px;
padding: 20px;
display: flex;
flex-direction: column;
min-height: 400px;  
max-height: none;  
order: 3;
}

.chat-header {
font-size: 1.2rem;
font-weight: bold;
margin-bottom: 15px;
color: #333;
display: flex;
align-items: center;
gap: 10px;
flex-shrink: 0;
flex-wrap: wrap;
}

.agents-indicator {
font-size: 0.85rem;
color: #666;
font-weight: normal;
}

.chat-messages {
flex: 1;
overflow-y: auto;
margin-bottom: 15px;
display: flex;
flex-direction: column;
gap: 15px;
min-height: 0;
}

.message {
margin-bottom: 0;
padding: 15px;
border-radius: 10px;
line-height: 1.6;
}

.message.user {
background: #667eea;
color: white;
align-self: flex-end;
max-width: 85%;
}

.agent-response {
display: flex;
flex-direction: column;
gap: 10px;
align-self: flex-start;
max-width: 100%;
}

.agent-message {
background: white;
border: 2px solid #e5e7eb;
border-radius: 10px;
padding: 15px;
position: relative;
}

.agent-message.professor {
border-left: 4px solid #667eea;
}

.agent-message.hacker {
border-left: 4px solid #f59e0b;
}

.agent-header {
display: flex;
align-items: center;
gap: 8px;
margin-bottom: 10px;
padding-bottom: 8px;
border-bottom: 1px solid #e5e7eb;
}

.agent-avatar {
font-size: 1.5rem;
}

.agent-info {
flex: 1;
}

.agent-name {
font-weight: bold;
font-size: 0.95rem;
color: #333;
}

.agent-specialty {
font-size: 0.75rem;
color: #666;
font-style: italic;
}

.agent-content {
color: #333;
font-size: 0.95rem;
word-wrap: break-word;
}

.agent-content strong {
color: #667eea;
}

.agent-content code {
background: #f3f4f6;
padding: 2px 6px;
border-radius: 4px;
font-family: "Courier New", monospace;
font-size: 0.9em;
color: #e11d48;
}

.agent-content pre {
background: #1f2937;
color: #10b981;
padding: 12px;
border-radius: 6px;
overflow-x: auto;
margin: 10px 0;
}

.agent-content pre code {
background: none;
color: inherit;
padding: 0;
}

.chat-input {
display: flex;
gap: 10px;
padding-top: 10px;
border-top: 2px solid #e5e7eb;
flex-shrink: 0;
flex-wrap: wrap;
}

.chat-input input {
flex: 1;
min-width: 200px;
padding: 12px;
border: 2px solid #e5e7eb;
border-radius: 8px;
font-size: 0.95rem;
}

.chat-input input:focus {
outline: none;
border-color: #667eea;
}

.chat-input button {
padding: 12px 24px;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
border: none;
border-radius: 8px;
cursor: pointer;
font-weight: bold;
font-size: 0.95rem;
transition: opacity 0.2s;
}

.chat-input button:hover:not(:disabled) {
opacity: 0.9;
}

.chat-input button:disabled {
background: #ccc;
cursor: not-allowed;
}

.typing-indicator {
display: flex;
gap: 10px;
padding: 15px;
align-self: flex-start;
flex-wrap: wrap;
}

.typing-agent {
display: flex;
align-items: center;
gap: 8px;
background: white;
border: 2px solid #e5e7eb;
border-radius: 10px;
padding: 10px 15px;
}

.typing-dots {
display: flex;
gap: 4px;
}

.typing-dots span {
width: 8px;
height: 8px;
border-radius: 50%;
background: #667eea;
animation: typing 1.4s infinite;
}

.typing-dots span:nth-child(2) {
animation-delay: 0.2s;
}

.typing-dots span:nth-child(3) {
animation-delay: 0.4s;
}

@keyframes typing {
0%,
60%,
100% {
  opacity: 0.3;
  transform: scale(0.8);
}
30% {
  opacity: 1;
  transform: scale(1);
}
}

.progress-bar-container {
background: white;
border-radius: 10px;
padding: 20px;
margin-bottom: 20px;

box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.progress-bar-header {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 15px;
gap: 10px;
flex-wrap: wrap;
}

.progress-bar-title {
font-weight: bold;
font-size: 1.1rem;
color: #333;
}

.progress-percentage {
font-size: 1.2rem;
font-weight: bold;
color: #667eea;
}

.progress-bar-track {
width: 100%;
height: 20px;
background: #e5e7eb;
border-radius: 10px;
overflow: hidden;
position: relative;
}

.progress-bar-fill {
height: 100%;
background: linear-gradient(90deg, #667eea 0%, #4ade80 100%);
border-radius: 10px;
transition: width 0.5s ease;
display: flex;
align-items: center;
justify-content: flex-end;
padding-right: 10px;
color: white;
font-size: 0.85rem;
font-weight: bold;
}

.progress-stats {
display: flex;
justify-content: space-between;
margin-top: 10px;
font-size: 0.9rem;
color: #666;
gap: 10px;
flex-wrap: wrap;
}

.exercise-list {
margin-top: 0;
}

.exercise-item {
background: white;
padding: 15px;
border-radius: 8px;
margin-bottom: 10px;
border-left: 4px solid #667eea;
cursor: pointer;
transition: background 0.2s;
}

.exercise-item:hover {
background: #f9fafb;
}

.exercise-item.active {
border-left-color: #4ade80;
background: #f0fdf4;
}

.exercise-title {
font-weight: bold;
margin-bottom: 5px;
}

.exercise-objectives {
margin-top: 10px;
padding-left: 20px;
font-size: 0.85rem;
color: #666;
}

.exercise-objectives li {
margin-bottom: 5px;
}

.exercise-status {
display: inline-block;
padding: 3px 8px;
border-radius: 5px;
font-size: 0.8rem;
margin-left: 10px;
}

.exercise-status.completed {
background: #4ade80;
color: white;
}

.exercise-status.in-progress {
background: #fbbf24;
color: white;
}

.stats-bar {
background: linear-gradient(0.25turn, #7951a900, #b375f1, #7951a900);
border-radius: 10px;
padding: 50px;
margin-bottom: 30px;
display: flex;
justify-content: space-around;
flex-wrap: wrap;
gap: 15px;
}

.stat-item {
text-align: center;
min-width: 100px;
}

.stat-value {
font-size: clamp(1.5rem, 4vw, 2rem);
font-weight: bold;
color: #ffffff;
text-shadow: 1px 1px 2px #2c2c2c;
}

.stat-label {
color: #fafafa;
font-size: 1rem;
margin-top: 5px;
font-weight: bold;
text-shadow: 1px 1px 2px #2c2c2c;
}

.loading {
text-align: center;
padding: 20px;
color: #666;
}

.connection-status {
position: absolute;
top: 10px;
left: 10px;
background: rgba(0, 0, 0, 0.7);
color: #4ade80;
padding: 5px 10px;
border-radius: 5px;
font-size: 0.85rem;
z-index: 5;
}

.connection-status.disconnected {
color: #f87171;
}

.complete-button {
margin-top: 10px;
padding: 8px 15px;
background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
color: white;
border: none;
border-radius: 5px;
font-size: 0.9rem;
cursor: pointer;
transition: opacity 0.3s;
width: 100%;
}

.complete-button:hover:not(:disabled) {
opacity: 0.9;
}

.complete-button:disabled {
background: #ccc;
cursor: not-allowed;
opacity: 0.6;
}

/* Desktop layout */
@media (min-width: 1200px) {
.modal-content {
  padding: 30px;
}

.lab-container {
  display: grid;
  grid-template-columns: 1fr 400px;
  grid-template-rows: auto 1fr;  
  gap: 20px;
  height: calc(98vh - 100px);
}

.vnc-section {
  grid-column: 1;
  grid-row: 1 / 3;
  min-height: 0;
  order: unset;
}

.exercise-sidebar {
  grid-column: 2;
  grid-row: 1;
  max-height: none;
  order: unset;
  min-height: 300px;  
}

.ai-chat-section {
  grid-column: 2;
  grid-row: 2;
  max-height: none;
  order: unset;
}

.vnc-container {
  min-height: 0;
}
}

@media (max-width: 576px) {
.launch-notification {
  max-width: calc(100vw - 40px);
  right: 10px;
  top: 10px;
  padding: 15px;
}

.vnc-btn {
  font-size: 0.75rem;
  padding: 5px 10px;
}

.message.user {
  max-width: 95%;
}
}
.rag-sources {
background: #f0f9ff;
border-left: 3px solid #3b82f6;
padding: 10px 15px;
margin-top: 10px;
border-radius: 5px;
font-size: 0.85rem;
}

.rag-sources-title {
font-weight: bold;
color: #1e40af;
margin-bottom: 5px;
display: flex;
align-items: center;
gap: 5px;
}

.rag-source-item {
color: #3b82f6;
margin-left: 15px;
display: block;
}

.knowledge-browser-btn {
padding: 8px 15px;
background: #3b82f6;
color: white;
border: none;
border-radius: 5px;
cursor: pointer;
font-size: 0.9rem;
margin-top: 10px;
display: flex;
align-items: center;
gap: 8px;
transition: background 0.2s;
}

.knowledge-browser-btn:hover {
background: #2563eb;
}

.knowledge-modal {
display: none;
position: fixed;
top: 0;
left: 0;
width: 100%;
height: 100%;
background: rgba(0, 0, 0, 0.7);
z-index: 2000;
align-items: center;
justify-content: center;
}

.knowledge-modal.active {
display: flex;
}

.knowledge-modal-content {
background: white;
border-radius: 15px;
padding: 30px;
width: 90%;
max-width: 800px;
max-height: 80vh;
overflow-y: auto;
position: relative;
}

.knowledge-search {
display: flex;
gap: 10px;
margin-bottom: 20px;
}

.knowledge-search input {
flex: 1;
padding: 10px;
border: 2px solid #e5e7eb;
border-radius: 8px;
font-size: 0.95rem;
}

.knowledge-search button {
padding: 10px 20px;
background: #3b82f6;
color: white;
border: none;
border-radius: 8px;
cursor: pointer;
font-weight: bold;
}

.knowledge-categories {
display: flex;
gap: 10px;
margin-bottom: 20px;
flex-wrap: wrap;
}

.category-btn {
padding: 8px 15px;
background: #f3f4f6;
border: 2px solid #e5e7eb;
border-radius: 8px;
cursor: pointer;
font-size: 0.9rem;
transition: all 0.2s;
}

.category-btn:hover {
background: #e5e7eb;
}

.category-btn.active {
background: #3b82f6;
color: white;
border-color: #3b82f6;
}

.knowledge-results {
display: flex;
flex-direction: column;
gap: 15px;
}

.knowledge-item {
background: #f9fafb;
padding: 15px;
border-radius: 8px;
border-left: 4px solid #3b82f6;
}

.knowledge-item-title {
font-weight: bold;
font-size: 1.1rem;
color: #1e40af;
margin-bottom: 5px;
}

.knowledge-item-category {
display: inline-block;
padding: 3px 8px;
background: #dbeafe;
color: #1e40af;
border-radius: 5px;
font-size: 0.8rem;
margin-bottom: 10px;
}

.knowledge-item-content {
color: #374151;
line-height: 1.6;
white-space: pre-wrap;
font-size: 0.9rem;
}
@keyframes pulse {
0%, 100% { 
transform: scale(1); 
box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
50% { 
transform: scale(1.02); 
box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
}
}
    </style>
  </head>
  <body>
    <div class="launch-notification" id="launchNotification">
      <div class="icon">üöÄ</div>
      <div class="title">Launching in Kali...</div>
      <div class="message">Opening scenario in Firefox</div>
    </div>

    <div class="container-fluid">
      <header>
        <h1>üîê CEDRIK Labs</h1>
        <h2>
          Cybersecurity Education through Dynamic Responsive Integrated
          Knowledge
        </h2>
        <p class="subtitle">
          Scenarios auto-launch in Kali Firefox with AI guidance
        </p>
      </header>

      <div class="container">
        <div class="stats-bar">
          <div class="stat-item">
            <div class="stat-value" id="totalScenarios">6</div>
            <div class="stat-label">Scenarios</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="completedExercises">0</div>
            <div class="stat-label">Completed</div>
          </div>
          <div class="stat-item">
            <div class="stat-value" id="totalSkills">0</div>
            <div class="stat-label">Skills</div>
          </div>
        </div>

        <div class="row g-4 mb-5" id="scenariosGrid">
          <div class="col-12">
            <div class="loading">Loading scenarios...</div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal" id="labModal">
      <div class="modal-content">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        <h2 id="modalTitle">Loading...</h2>

        <div class="lab-container">
          <div class="vnc-section">
            <div class="vnc-container" id="vncContainer">
              <div class="vnc-header">
                <div class="vnc-title">
                  üñ•Ô∏è Kali Linux Desktop - Scenario Auto-Launched!
                </div>
                <div class="vnc-controls">
                  <button class="vnc-btn" onclick="toggleScaling()">
                    Toggle Scaling
                  </button>
                  <button
                    class="vnc-btn fullscreen"
                    onclick="toggleFullscreen()"
                  >
                    ‚õ∂ Fullscreen
                  </button>
                </div>
              </div>
              <div class="connection-status" id="connectionStatus">
                Connecting...
              </div>
              <div class="vnc-frame-wrapper">
                <iframe
                  id="vncFrame"
                  src="about:blank"
                  allow="fullscreen"
                  allowfullscreen="true"
                ></iframe>
              </div>
            </div>
          </div>

          <div class="exercise-sidebar" id="exerciseSidebar">
            <div class="progress-bar-container">
              <div class="progress-bar-header">
                <span class="progress-bar-title">üìä Progress</span>
                <span class="progress-percentage" id="progressPercentage">0%</span>
              </div>
              <div class="progress-bar-track">
                <div class="progress-bar-fill" id="progressBarFill" style="width: 0%"></div>
              </div>
              <div class="progress-stats">
                <span id="progressCompleted">0 of 0 completed</span>
                <span id="progressRemaining">0 remaining</span>
              </div>
            </div>
            <h3>üìã Exercises</h3>
            <div class="exercise-list" id="exerciseList"></div>
          </div>

          <div class="ai-chat-section">
            <div class="chat-header">
              ü§ñ AI Team Assistant
              <span class="agents-indicator">(2 specialized agents)</span>
              <button class="knowledge-browser-btn" onclick="openKnowledgeBrowser()">
  üìö Browse Knowledge Base
</button>
            </div>
            <div class="chat-messages" id="chatMessages"></div>
            <div class="chat-input">
              <input type="text" id="chatInput" placeholder="Ask for help from our AI team..." />
              <button onclick="sendMessage()" id="sendButton">Send to Team</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="knowledge-modal" id="knowledgeModal">
  <div class="knowledge-modal-content">
    <span class="close-modal" onclick="closeKnowledgeModal()">&times;</span>
    <h2>üìö Knowledge Base Browser</h2>
    
    <div class="knowledge-search">
      <input type="text" id="knowledgeSearchInput" placeholder="Search for vulnerabilities, tools, techniques..." />
      <button onclick="searchKnowledge()">üîç Search</button>
    </div>

    <div class="knowledge-categories">
      <button class="category-btn active" onclick="filterCategory('all')">All</button>
      <button class="category-btn" onclick="filterCategory('vulnerability')">Vulnerabilities</button>
      <button class="category-btn" onclick="filterCategory('tool')">Tools</button>
      <button class="category-btn" onclick="filterCategory('scenario')">Scenarios</button>
    </div>

    <div class="knowledge-results" id="knowledgeResults">
      <div style="text-align: center; color: #666;">Loading knowledge base...</div>
    </div>
  </div>
</div>
  <script type="module" src="/src/main.js"></script>
  </body>
</html>
